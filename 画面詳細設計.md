# 在庫管理アプリ画面詳細設計

## 1. 在庫一覧画面（メインタブ1）

### 表示項目
* ヘッダー
  * アプリタイトル
  * 設定メニューアイコン（右上）
  * 通知アイコン（右上、未読件数バッジ付き）

* 検索/フィルターエリア
  * 検索バー：商品名、バーコード検索用
  * タグフィルター：選択式のタグ一覧
  * 並び替えドロップダウン：
    - 商品名（昇順/降順）
    - 在庫数（昇順/降順）
    - 要購入アラート（アラート優先）

* 商品一覧（スクロール可能なリスト）
  * 各商品アイテム
    - 商品画像（左端）
    - 商品名（太字）
    - 現在の在庫数（数値）
    - 最小在庫数（グレー文字）
    - ステータスアイコン（要購入の場合は警告アイコン表示）
    - 増減ボタン（+/-）
    - 商品編集アイコン（右端）
　　 - 商品削除アイコン（一番右端） 

* フローティングアクションボタン
  * 新規商品登録用の「＋」ボタン（右下固定）

### ボタンアクション
1. 設定メニュー押下
   * 設定画面に遷移

2. 通知アイコン押下
   * 通知一覧画面に遷移
   * バッジカウントをクリア

3. 検索バー入力
   * 文字入力時にリアルタイムフィルタリング
   * バーコード読み取りアイコン押下でスキャナー起動

4. タグフィルター選択
   * 選択したタグに該当する商品のみ表示
   * 複数選択可能

5. 並び替え選択
   * 選択した条件で商品リストを即時ソート

6. 商品アイテム押下
   * 商品詳細画面に遷移

7. 在庫増減ボタン押下
   * 増減確認ダイアログ表示
   * 確定後、在庫数更新
   * 最小在庫数を下回った場合、要購入リストに自動追加

8. 商品編集アイコン押下
   * 商品編集画面に遷移

9. 商品削除アイコン押下
   * 削除確認ダイアログ表示
   * 確定後、商品を削除

10. 新規登録ボタン押下
   * 商品登録画面に遷移

## 2. 商品登録・編集画面

### 表示項目
* ヘッダー
  * 「商品登録」または「商品編集」タイトル
  * キャンセルボタン（左）
  * 保存ボタン（右）

* 入力フォーム
  * 商品画像
    - プレースホルダー画像
    - 画像選択/変更ボタン
  * バーコード入力エリア
    - バーコード入力フィールド
    - スキャンボタン
  * Yahoo商品検索
    - 検索ボタン
    - 検索結果表示エリア
  * 商品名入力フィールド（必須）
  * 最小在庫数入力フィールド（必須）
  * タグ選択
    - 既存タグの複数選択
    - 新規タグ追加ボタン
  * 購入先情報
    - 購入先種別選択（ラジオボタン）
    - URL入力フィールド（ネット選択時のみ表示）

### ボタンアクション
1. キャンセルボタン押下
   * 変更破棄確認ダイアログ表示
   * 確定後、前画面に戻る

2. 保存ボタン押下
   * 入力値バリデーション実行
   * エラーがある場合、該当フィールドを赤枠表示
   * 保存成功後、在庫一覧画面に戻る

3. 画像選択ボタン押下
   * 画像選択オプション表示
     - カメラ起動
     - ギャラリーから選択

4. バーコードスキャンボタン押下
   * カメラ起動、スキャナー表示
   * スキャン成功時、自動的にYahoo商品検索実行

5. Yahoo商品検索ボタン押下
   * 検索結果をリスト表示
   * 結果選択で各フィールドに自動入力

6. 新規タグ追加ボタン押下
   * タグ名入力ダイアログ表示
   * 確定後、選択済みタグとして追加

## 3. 購入リスト画面（メインタブ2）
### 表示項目
* ヘッダー
  * 「購入リスト」タイトル

* 購入先タブ
  * 生協
  * 店舗
  * ネット

* 商品リスト
  * 商品画像（小）
  * 商品名
  * 必要数（グレー表示）
  * 購入数量入力フィールド
    - 数値入力のみ可能
    - デフォルト値：0
    - ステッパー（＋/−）ボタン付き
  * 購入URLリンク（ネットタブのみ）

* フッター
  * 購入完了ボタン（常時表示）

### ボタンアクション
1. タブ切り替え
   * 対応する購入先の商品リストを表示
   * ネットタブではURLリンクを表示

2. 購入数量ステッパーボタン
   * ＋ボタン：数量を1増やす
   * −ボタン：数量を1減らす（0未満にはならない）

3. 購入数量フィールド
   * 直接数値入力可能
   * 0以上の整数のみ入力可能

4. 購入URLリンク押下
   * 外部ブラウザでURLを開く

5. 購入完了ボタン押下
   * 確認ダイアログ表示
     - 購入数量が0より大きい商品のみリスト表示
     - 合計購入点数を表示
   * 確定後：
     - 購入数量が0より大きい商品のみ処理
     - 各商品の在庫数を購入数量分増加
     - 購入履歴に記録
     - 処理完了した商品をリストから削除
   * キャンセル時：
     - 画面を維持

## 4. 商品詳細画面

### 表示項目
* ヘッダー
  * 戻るボタン（左）
  * 商品名
  * 編集ボタン（右）
  * 削除ボタン（右）

* 商品基本情報セクション
  * 商品画像（大）
  * 現在の在庫数（大きな数字）
  * 最小在庫数
  * タグ一覧
  * 購入先情報
  * バーコード

* 操作セクション
  * 在庫数増減ボタン（大きな＋/−ボタン）
  * 数量入力フィールド

* 履歴セクション（タブ切り替え）
  * 在庫履歴タブ
    - 日付
    - 操作種別（増加/減少）
    - 数量
  * 購入履歴タブ
    - 日付
    - 購入先
    - 数量

* グラフセクション
  * 消費トレンドグラフ（直近3ヶ月）
  * 在庫推移グラフ

### ボタンアクション
1. 編集ボタン押下
   * 商品編集画面に遷移

2. 削除ボタン押下
   * 削除確認ダイアログ表示
   * 確定後、商品を削除し在庫一覧に戻る

3. 在庫数増減ボタン押下
   * 数量を増減（長押しで連続変更）
   * 変更履歴に自動記録
   * 最小在庫数を下回った場合、アラート表示

4. 購入先URLリンク押下（ネットの場合）
   * 外部ブラウザでURLを開く

## 5. 分析画面

### 表示項目
* ヘッダー
  * 「分析」タイトル
  * 期間選択ドロップダウン（右上）

* 概要セクション
  * 総商品数
  * 要購入商品数
  * 在庫切れ商品数

* 消費トレンドセクション
  * 折れ線グラフ
    - X軸：時間
    - Y軸：消費量
  * 期間平均消費量
  * 前期間比

* カテゴリ分析セクション
  * タグ別円グラフ
    - 商品数分布
    - 消費量分布
  * タグ別ランキング

* 在庫推移セクション
  * 積み上げグラフ
    - X軸：時間
    - Y軸：在庫数

### ボタンアクション
1. 期間選択
   * 1週間/1ヶ月/3ヶ月/6ヶ月/1年から選択
   * 選択後、全グラフを更新

2. グラフ要素タップ
   * 詳細情報をポップアップ表示

3. タグ選択
   * 選択したタグのデータのみ表示

## 6. バーコードスキャン画面

### 表示項目
* カメラビューファインダー
  * スキャン範囲ガイド
  * フラッシュライトボタン
* 手動入力切替ボタン
* スキャン結果表示エリア
  * バーコード番号
  * 読み取りステータス

### ボタンアクション
1. フラッシュライトボタン押下
   * フラッシュのON/OFF切り替え

2. 手動入力切替ボタン押下
   * バーコード手動入力ダイアログ表示

3. バーコード認識時
   * バイブレーション
   * 結果表示
   * Yahoo商品検索APIで商品情報取得
   * 商品登録画面に遷移（データ自動入力）

## 7. 設定画面

### 表示項目
* アカウント設定セクション
  * パスワード変更
  * メールアドレス変更

* アプリ設定セクション
  * ダークモード切替スイッチ
  * 通知設定
    - 在庫アラート ON/OFF

* タグ管理セクション
  * タグ一覧
    - タグ名
    - 使用商品数
    - 編集/削除ボタン
  * 新規タグ追加ボタン

* その他セクション
  * アプリバージョン
  * ログアウトボタン

### ボタンアクション

2. パスワード変更押下
   * パスワード変更画面に遷移

3. メールアドレス変更押下
   * メールアドレス変更画面に遷移

4. ダークモード切替
   * アプリ全体のテーマをダーク/ライトに即時切替

5. タグ編集ボタン押下
   * タグ編集ダイアログ表示

6. タグ削除ボタン押下
   * 削除確認ダイアログ表示
   * 確定後、関連商品からタグを削除

7. 新規タグ追加ボタン押下
   * タグ作成ダイアログ表示

8. ログアウトボタン押下
   * ログアウト確認ダイアログ表示
   * 確定後、ログイン画面に遷移
